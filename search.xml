<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[OpenCV的Python实践(1)]]></title>
    <url>%2F2019%2F05%2F16%2FOpenCvPythonPractice-1%2F</url>
    <content type="text"><![CDATA[升级pip window的cmd模式下查询当前pip版本1python -m pip show pip window的cmd模式下升级pip1python -m pip install --upgrade pip &emsp;&emsp;安装cv2的时候出现”Requirement already satisfied”的问题无法使用python -m pip install opencv-python自动安装，可能是因为我的python版本经常换来换去的原因。通过指定安装路径解决，启动自动安装。1python -m pip install --target=D:\Python27_13\Lib\site-packages opencv-python &emsp;&emsp;好吧，可能因为网络原因，我的网是真的慢，安装到一半还是失败，但是获取了相关whl的信息，我直接去下载这个opencv_python-4.1.0.25-cp36-cp36m-win32.whl来手动安装。用迅雷下载这个25兆的文件用了将近5分钟。–upgrade安装时强制替换老版本123python -m pip install --upgrade --target=D:\Python27_13\Lib\site-packages D:\numpy-1.16.3-cp36-cp36m-win32.whlpython -m pip install --upgrade --target=D:\Python27_13\Lib\site-packages D:\opencv_python-4.1.0.25-cp36-cp36m-win32.whlpython -m pip install --upgrade --target=D:\Python27_13\Lib\site-packages D:\matplotlib-3.0.3-cp36-cp36m-win32.whl 环境配置成功 显示保存图片12345678910111213141516171819202122232425262728#!D:\Python34\python.exe# -*- coding: utf-8 -*-#python3.6.8#显示保存图片import cv2 import numpy as npimport matplotlib # python -m pip install matplotlib-3.0.3-cp36-cp36m-win32.whl#print("cv2版本"+cv2.__version__)#print(np.version.version)#print(matplotlib.__version__)#读取图片img=cv2.imread('arterialImg.png',cv2.IMREAD_GRAYSCALE) img2=cv2.imread('arterialImg.png',cv2.IMREAD_COLOR) #cv2.IMREAD_COLOR 彩色模式忽略透明度，cv2.IMREAD_GRAYSCALE 灰度模式#显示图片cv2.imshow('image',img)cv2.imshow('image2',img2)k=cv2.waitKey(0) #0毫秒内无限等待键盘输入，检测键是否按下if k==27: cv2.destroyAllWindows() #ESC按下elif k==ord('s'): #print("保存图片") #cv2.imwrite("mess.jpg",img) cv2.destroyAllWindows()cv2.destroyAllWindows() print("结束") 使用MatplotlibMatplotlib是python的一个绘图库，包含各种各样的绘图方法。 123456789101112131415161718#!D:\Python34\python.exe# -*- coding: utf-8 -*-#python3.6.8#使用Matplotlibimport cv2 import numpy as npfrom matplotlib import pyplot as pltfrom matplotlib.font_manager import FontPropertiesfont_set=FontProperties(fname=r"c:\windows\fonts\simsun.ttc",size=12)img=cv2.imread('arterialImg.png',cv2.IMREAD_COLOR) plt.imshow(img,cmap='gray',interpolation='bicubic')plt.xlabel(u'年份',fontproperties=font_set)plt.ylabel(u'产量',fontproperties=font_set)plt.legend(prop=font_set,loc='best')plt.title("裤子",fontproperties=font_set)plt.show() 使用摄像头捕获视频123456789101112131415161718#!D:\Python34\python.exe# -*- coding: utf-8 -*-#python3.6.8#使用摄像头捕获视频import cv2 import numpy as npcap=cv2.VideoCapture(0)while(True): ret,frame=cap.read() gray=cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY) cv2.imshow('frame',gray) if cv2.waitKey(1)&amp; 0xFF == ord('q'): breakcap.release()cv2.destroyAllWindows() &emsp;&emsp;cap.isOpened()可检查摄像头设备是否初始化，如果返回True则没问题，否则要使用cap.open()&emsp;&emsp;cap.get(propid)可获取视频一些参数信息，propid于0–18之间,如cap.get(3)和cap.get(4)可查看每帧宽和高&emsp;&emsp;cap.set(propid,value)可修改视频属性，如cap.set(3,320)将视频宽度设置为320 从文件中播放视频12345678910111213141516171819#!D:\Python27_13\python.exe# -*- coding: utf-8 -*-#python3.6.8#从文件中播放视频import cv2import numpy as npcap = cv2.VideoCapture("../JustTheWayYouAre.mp4")while(1): #获取一帧图像 ret, frame = cap.read() #显示一帧图像 cv2.imshow("capture", frame) if cv2.waitKey(25) &amp; 0xFF == ord('q'): breakcap.release()cv2.destroyAllWindows() #cv2.waitKey(25) 代表一帧25毫秒，这可以控制播放速度 保存视频&emsp;&emsp;OpenCV是计算机视觉库，可以把图片序列保存成视频(也是基于vfw和ffmpeg的)，但它本身并不是视频编码解码器，只支持avi的格式，而且生成的视频文件不能大于2GB，不能添加音频。如果想突破这些限制，还是得用ffMpeg。&emsp;&emsp;捕获视频，并对每一帧进行加工后想要保存这个视频。&emsp;&emsp;保存视频需要创建一个VideoWriter对象，确定输出文件的名字，指定FourCC编码，帧大小，播放频率和isColor标签。&emsp;&emsp;有一个比较坑的地方，opencv修改后保存视频的帧大小宽高必须与原始视频保持一致才行。1234567891011121314151617181920212223242526272829#!D:\Python27_13\python.exe# -*- coding: utf-8 -*-#python3.6.8#打开一个本地视频，将每帧图像翻转后保存为另一个视频。import cv2import numpy as npcap = cv2.VideoCapture("../JustTheWayYouAre.mp4")frame_width = int(cap.get(3))frame_height = int(cap.get(4))#需要去http://www.fourcc.org/downloads/divx-912-7/start下载DIVX编码器fourcc = cv2.VideoWriter_fourcc(*'XVID')out = cv2.VideoWriter('output.avi',fourcc, 20.0, (frame_width,frame_height))while(cap.isOpened()): ret, frame = cap.read() if ret==True: frame = cv2.flip(frame,0) out.write(frame) cv2.imshow('frame',frame) if cv2.waitKey(1) &amp; 0xFF == ord('q'): break else: break cap.release()out.release()cv2.destroyAllWindows() 线,矩形,圆,椭圆,多边形,添加文字需要使用这些函数cv2.line(),cv2.rectangle(),cv2.circle(),cv2.ellipse(),cv2.putText()上面函数都需要设置的共同参数： img：想要绘制图形的那张图 color：形状的颜色，rgb需要传入一个元组，灰度图只需传入灰度值。 thickness：线条粗细。默认为1。如果一个闭合图形设置为-1，该图形被填充。 linetype：线条类型，8连通、抗锯齿等。(并不是指线型是实线、虚线还是点画线，这个参数实际用途是改变线的产生算法)，默认8连通，cv2.LINE_AA为抗锯齿，使线条看起来平滑。 &emsp;&emsp;画线，需要指定线的起点和终点。&emsp;&emsp;画矩形，需要指定左上角顶点和右下角顶点。&emsp;&emsp;画圆，需要指定圆形中心点坐标和半径大小。&emsp;&emsp;画椭圆，需要指定椭圆的中心点坐标、长轴和短轴长度、椭圆沿逆时针旋转的角度，椭圆弧沿顺时针方向起始角度和结束角度(0-360代表整个椭圆)。&emsp;&emsp;画多边形，需要指定每个顶点的坐标。cv2.polylines()可用来画很多线，只需要将要画的线放在一个列表里传给函数即可。每条线被独立绘制，这比cv2.line()一条一条绘制要快一些。&emsp;&emsp;在图片上添加文字，需要设置下列参数：要绘制文字、要绘制的位置、字体类型(通过查看cv2.putText()的文档找到支持字体)、字体的大小、文字的一般属性，如颜色、粗细、线条类型等，为美观一般linetype=cv2.LINE_AA。&emsp;&emsp;所有绘图函数返回值都是None，所以img1=cv2.line(img,(0,0),(511,511),(255,0,0),5)是错误的。12345678910111213141516171819202122232425262728#!D:\Python27_13\python.exe# -*- coding: utf-8 -*-#python3.6.8#线,矩形,圆,椭圆,多边形,添加文字import cv2import numpy as npimg=np.zeros((512,512,3),np.uint8)#画线cv2.line(img,(0,0),(511,511),(255,0,0),5)#图片上添加文字font=cv2.FONT_HERSHEY_SIMPLEXcv2.putText(img,'OpenCV',(10,500), font, 4,(255,255,255),2)#画矩形cv2.rectangle(img,(384,0),(510,128),(0,255,0),3)#画圆cv2.circle(img,(447,63), 63, (0,0,255), -1)#画椭圆cv2.ellipse(img,(256,256),(100,50),30,0,360,255,3)#画多边形pts=np.array([[10,5],[20,30],[70,20],[50,10]], np.int32)pts=pts.reshape((-1,1,2))cv2.polylines(img,[pts],True,(0,0,255),3)#如果去掉中括号，只是画四个点。如果第三个参数为False，多边形不闭合首尾不相连，cv2.imshow('opencv',img)cv2.waitKey(0)cv2.destroyAllWindows()]]></content>
      <categories>
        <category>OpenCV的Python实践</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MarkDown基础语法]]></title>
    <url>%2F2019%2F05%2F15%2FfirstBlog%2F</url>
    <content type="text"><![CDATA[标题Markdown支持6种级别的标题，对应html标签h1~h6123456# h1## h2### h3#### h4##### h5###### h6 段落及区块引用Markdown其实就是一种易于编写的普通文本，只不过加入了部分渲染文本的标签而已。其最终依然会转换为html标签，因此使用Markdown分段非常简单，前后至少保留一个空行即可。 另外一个比较常见的需求就是，我们可能希望对某段文字进行强调处理。Markdown提供了一个特殊符号&gt;用于段首进行强调，被强调的文字部分将会高亮显示1&gt; 这段文字将被高亮强调显示 这段文字将被高亮强调显示 插入链接或图片引用图片和链接的唯一区别就是在最前方添加一个感叹号。123直接链接：&lt;http://www.baidu.com&gt;[点击跳转至百度](http://www.baidu.com)![图片](https://box.bdimg.com/static/fisp_static/common/img/searchbox/logo_news_276_88_1f9876a.png) 直接链接：http://www.baidu.com点击跳转至百度 列表Markdown支持有序列表和无序列表两种形式：无序列表使用*或+或-标识有序列表使用数字标识 例如1.123456789101112131415* 黄瓜* 玉米* 茄子+ 黄瓜+ 玉米+ 茄子- 黄瓜- 玉米- 茄子1. 黄瓜2. 玉米3. 茄子 黄瓜 玉米 茄子 黄瓜 玉米 茄子 黄瓜 玉米 茄子 黄瓜 玉米 茄子 如果在单一列表项中包含了多个段落，为了保证渲染正常，*与段落首字母之间必须保留四个空格 如果在列表中加入了区块引用，区域引用标记符也需要缩进4个空格12345678910* 段落一 小段一* 段落二 小段二* 段落一 &gt; 区块标记一* 段落二 &gt; 区块标记二 段落一 小段一 段落二 小段二 段落一 区块标记一 段落二 区块标记二 记住一个原则，如果在和列表配合使用的时候出现了问题，就缩进一次，四个空格或者一个制表符代表一次缩进。如果一次缩进没有解决问题，那就两次。 分割线12***--- 对部分文字强调123456789*这里是斜体*_这里是斜体_**这里是加粗**__这里是加粗__上标：O&lt;sub&gt;2&lt;/sub&gt;，下标：3&lt;sup&gt;2&lt;/sup&gt;简称或缩写:The &lt;abbr title=&quot;Hyper Text Markup Language&quot;&gt;HTML&lt;/abbr&gt; specification is maintained by the &lt;abbr title=&quot;World Wide Web Consortium&quot;&gt;W3C&lt;/abbr&gt;. 这里是斜体这里是斜体 这里是加粗这里是加粗 上标：O2，下标：32The HTML specification is maintained by the W3C. 插入表格三个短斜杠左右的冒号用于控制对齐方式只放置左边冒号表示文字居左，只放置右边冒号表示文字居右，如果两边都放置冒号表示文字居中。123表头|条目一|条目二:---:|:---:|:---:项目|项目一|项目二 表头 条目一 条目二 项目 项目一 项目二 特殊符号使用反斜杠\插入语法中用到的特殊符号1234567891011121314151617\\ 反斜线\` 反引号\* 星号\_ 底线\&#123; \&#125; 花括号\[ \] 方括号\( \) 括弧\# 井字号\+ 加号\- 减号\. 英文句点\! 惊叹号&amp;copy; &amp; &amp;uml; &amp;trade; &amp;iexcl; &amp;pound;&amp;amp; &amp;lt; &amp;gt; &amp;yen; &amp;euro; &amp;reg; &amp;plusmn; &amp;para; &amp;sect; &amp;brvbar; &amp;macr; &amp;laquo; &amp;middot;X&amp;sup2; Y&amp;sup3; &amp;frac34; &amp;frac14; &amp;times; &amp;divide; &amp;raquo; \ 反斜线` 反引号* 星号_ 底线{ } 花括号[ ] 方括号( ) 括弧# 井字号+ 加号- 减号. 英文句点! 惊叹号 &copy; &amp; &uml; &trade; &iexcl; &pound;&amp; &lt; &gt; &yen; &euro; &reg; &plusmn; &para; &sect; &brvbar; &macr; &laquo; &middot; X&sup2; Y&sup3; &frac34; &frac14; &times; &divide; &raquo; 文字上色Markdown的最初目标就是为纯写作而生的。因此，它并没有考虑文字颜色这一点。所以，单纯使用Markdown设置文字颜色已经做不到了。但你可以这样做：1&lt;font color=&apos;#ff0000&apos;&gt;红色&lt;/font&gt; 红色 代码12345```javascript function test() &#123; console.log(&quot;Hello world!&quot;); &#125;``` 123function test() &#123; console.log("Hello world!");&#125; 1234567891011121314&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charest="utf-8" /&gt; &lt;title&gt;Hello world!&lt;/title&gt; &lt;style type="text/css"&gt; ul&#123;list-style: none;&#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 class="text-xxl"&gt;Hello world!&lt;/h1&gt; &lt;p class="text-green"&gt;Plain text&lt;/p&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <tags>
        <tag>MarkDown</tag>
      </tags>
  </entry>
</search>
